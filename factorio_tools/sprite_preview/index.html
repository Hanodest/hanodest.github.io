<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>Factorio sprite preview</title>
    <link rel="stylesheet" href="style.css">
    <script type="module">
      import {Gui} from './gui.js';
      let gui = undefined;
      window.addEventListener('load', () => {
        gui = new Gui();
      });
    </script>
  </head>
  <body>
    <div>
      <div class="outer-frame">
        <div class="inner-frame">
          <canvas id="image"></canvas>
        </div>
        <div class="inner-frame" id="controls">
          <div id="global_controls" class="box-dark-inset hidden">
            <div class="range-line">
              <div>
                <label for="animation_speed">Animation speed:</label>
              </div>
              <div class="range-container">
                <input id="animation_speed" type="range" min="1" max="120" value="60" />
              </div>
            </div>
            <div class="range-line">
              <div><label for="day_night">Daytime</label></div>
              <div class="range-container">
                <input id="day_night" type="range" min="0" max="255" value="0" />
              </div>
            </div>
            <div class="range-line">
              <div><label for="background">Background</label></div>
              <div>
                <select id="background">
                  <option label="Lab tiles" value="lab"></option>
                  <option label="Nauvis" value="nauvis"></option>
                  <option label="Vulcanus" value="vulcanus"></option>
                  <option label="Fulgora" value="fulgora"></option>
                  <option label="Gleba" value="gleba"></option>
                  <option label="Aquilo" value="aquilo"></option>
                </select>
              </div>
            </div>
          </div>
          <div id="layers_settings">
          </div>
          <div class="right-aligned">
            <input type="file" id="file" accept="image/*" class="hidden" multiple>
            <div id="import_settings" class="import-icon"></div>
            <div id="export_settings" class="export-icon"></div>
            <div id="add_layer" class="box-light text-button">+ Add spritesheets</div>
          </div>
        </div>
      </div>
    </div>
    <div id="import_header" class="import-header hidden">
      Accepted input: well-formed JSON of
      <a href="https://lua-api.factorio.com/latest/prototypes/AnimationPrototype.html">
        AnimationPrototype
      </a>.
      It can be obtained from the export function of this tool,
      from a dump produced by running
      <a href="https://wiki.factorio.com/Command_line_parameters">factorio --dump-data</a>,
      or any other methods.
    </div>
  </body>
</html>
